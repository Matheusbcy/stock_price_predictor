schema: '2.0'
stages:
  load_data:
    cmd: python -m src.data_loading.load_data
    deps:
    - path: src/data_loading/load_data.py
      hash: md5
      md5: 48fc5640347285c40bc1847a30c3b089
      size: 724
    outs:
    - path: data/raw/raw.csv
      hash: md5
      md5: 25aa017a9012b756e5ca02dc7d0035e4
      size: 70551
  preprocess_data:
    cmd: python -m src.data_preprocessing.preprocess_data
    deps:
    - path: data/raw/raw.csv
      hash: md5
      md5: 25aa017a9012b756e5ca02dc7d0035e4
      size: 70551
    - path: src/data_preprocessing/preprocess_data.py
      hash: md5
      md5: 0f03dd5b7ede08b21093509b6b585dde
      size: 2700
    params:
      params.yaml:
        preprocess_data.random_seed: 42
        preprocess_data.test_size: 0.2
    outs:
    - path: artifacts/open_scaler.pkl
      hash: md5
      md5: e0292ab1d7bef1909d84b8a0c8ee7a38
      size: 719
    - path: data/preprocessed/test_preprocessed.csv
      hash: md5
      md5: f86d3c962cab34e328a84bc923660ce1
      size: 7524
    - path: data/preprocessed/train_preprocessed.csv
      hash: md5
      md5: 12a16fed861f9a0d5ff8b867aa46ebd0
      size: 29907
  engineer_features:
    cmd: python -m src.feature_engineering.engineer_features
    deps:
    - path: data/preprocessed/test_preprocessed.csv
      hash: md5
      md5: f86d3c962cab34e328a84bc923660ce1
      size: 7524
    - path: data/preprocessed/train_preprocessed.csv
      hash: md5
      md5: 12a16fed861f9a0d5ff8b867aa46ebd0
      size: 29907
    - path: src/feature_engineering/engineer_features.py
      hash: md5
      md5: bc0ff2b871ba60cc429dfcfc617269c7
      size: 2428
    outs:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 9cd565213c76892166527b7669d6477f
      size: 272589
    - path: data/processed/train_processed.csv
      hash: md5
      md5: 0cd63aaf516194bd16e3930d2a050477
      size: 1539820
  train:
    cmd: python -m src.model_training.train_model
    deps:
    - path: data/processed/train_processed.csv
      hash: md5
      md5: 0cd63aaf516194bd16e3930d2a050477
      size: 1539820
    - path: src/model_training/train_model.py
      hash: md5
      md5: 37627d123c63d304cc8a09dce2f605d3
      size: 3952
    params:
      params.yaml:
        train.batch_size: 32
        train.dropout_rate: 0.3
        train.epochs: 100
        train.learning_rate: 0.001
        train.lstm_1_units: 100
        train.lstm_2_units: 50
        train.lstm_3_units: 50
        train.lstm_4_units: 50
    outs:
    - path: metrics/training.json
      hash: md5
      md5: c283d0f2f7846493a0899eb021c810c3
      size: 134
    - path: models/model.keras
      hash: md5
      md5: 608c3304f01ecd67a9c72f9c2659b4c8
      size: 1395734
  evaluate:
    cmd: python -m src.model_evaluation.evaluate_model
    deps:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 9cd565213c76892166527b7669d6477f
      size: 272589
    - path: models/model.keras
      hash: md5
      md5: 608c3304f01ecd67a9c72f9c2659b4c8
      size: 1395734
    - path: src/model_evaluation/evaluate_model.py
      hash: md5
      md5: bed08fa5f52d191411ebe3c6f697ac03
      size: 3348
    outs:
    - path: metrics/evaluation.json
      hash: md5
      md5: 1d1e0cad2e7cfe38f1177ab2b2b6aa40
      size: 151
