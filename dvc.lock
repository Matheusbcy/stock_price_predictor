schema: '2.0'
stages:
  load_data:
    cmd: python -m src.data_loading.load_data
    deps:
    - path: src/data_loading/load_data.py
      hash: md5
      md5: 48fc5640347285c40bc1847a30c3b089
      size: 724
    outs:
    - path: data/raw/raw.csv
      hash: md5
      md5: 7022732c1c8c5de2658fd9036dcb90cb
      size: 70551
  preprocess_data:
    cmd: python -m src.data_preprocessing.preprocess_data
    deps:
    - path: data/raw/raw.csv
      hash: md5
      md5: 7022732c1c8c5de2658fd9036dcb90cb
      size: 70551
    - path: src/data_preprocessing/preprocess_data.py
      hash: md5
      md5: 0f03dd5b7ede08b21093509b6b585dde
      size: 2700
    params:
      params.yaml:
        preprocess_data.random_seed: 42
        preprocess_data.test_size: 0.2
    outs:
    - path: artifacts/open_scaler.pkl
      hash: md5
      md5: 1a07d77ad324d66034b07f712bac28d9
      size: 719
    - path: data/preprocessed/test_preprocessed.csv
      hash: md5
      md5: a2887dc2607bc0f1ddd9a43ecbfe1d06
      size: 7558
    - path: data/preprocessed/train_preprocessed.csv
      hash: md5
      md5: 9a3440b27fc06b5b4f847358aec1652e
      size: 29922
  engineer_features:
    cmd: python -m src.feature_engineering.engineer_features
    deps:
    - path: data/preprocessed/test_preprocessed.csv
      hash: md5
      md5: a2887dc2607bc0f1ddd9a43ecbfe1d06
      size: 7558
    - path: data/preprocessed/train_preprocessed.csv
      hash: md5
      md5: 9a3440b27fc06b5b4f847358aec1652e
      size: 29922
    - path: src/feature_engineering/engineer_features.py
      hash: md5
      md5: bc0ff2b871ba60cc429dfcfc617269c7
      size: 2428
    outs:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 2147727494655f673577a31053e7efae
      size: 272617
    - path: data/processed/train_processed.csv
      hash: md5
      md5: 2a3c8f880e3c7e91ca7941e53edadcfb
      size: 1542726
  train:
    cmd: python -m src.model_training.train_model
    deps:
    - path: data/processed/train_processed.csv
      hash: md5
      md5: 2a3c8f880e3c7e91ca7941e53edadcfb
      size: 1542726
    - path: src/model_training/train_model.py
      hash: md5
      md5: 6555a22bddd985bf84ea8e48155d0175
      size: 3900
    params:
      params.yaml:
        train.batch_size: 32
        train.dropout_rate: 0.3
        train.epochs: 100
        train.learning_rate: 0.001
        train.lstm_1_units: 100
        train.lstm_2_units: 50
        train.lstm_3_units: 50
        train.lstm_4_units: 50
    outs:
    - path: metrics/training.json
      hash: md5
      md5: 6bb54304f0820360da5e01fa16c6de6f
      size: 134
    - path: models/model.keras
      hash: md5
      md5: fceb46c3cdb930fb7aedebdcf28d8a68
      size: 1395734
  evaluate:
    cmd: python -m src.model_evaluation.evaluate_model
    deps:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 2147727494655f673577a31053e7efae
      size: 272617
    - path: models/model.keras
      hash: md5
      md5: fceb46c3cdb930fb7aedebdcf28d8a68
      size: 1395734
    - path: src/model_evaluation/evaluate_model.py
      hash: md5
      md5: bed08fa5f52d191411ebe3c6f697ac03
      size: 3348
    outs:
    - path: metrics/evaluation.json
      hash: md5
      md5: 71df49b7f8e1a4cedddcbd9e23036ac4
      size: 149
