schema: '2.0'
stages:
  load_data:
    cmd: python -m src.data_loading.load_data
    deps:
    - path: src/data_loading/load_data.py
      hash: md5
      md5: 1546fa7e401c980ba29aa7a4a03e7169
      size: 623
    outs:
    - path: data/raw/raw.csv
      hash: md5
      md5: e3fa3f522c71bf1523138943d5c0ab62
      size: 70551
  preprocess_data:
    cmd: python -m src.data_preprocessing.preprocess_data
    deps:
    - path: data/raw/raw.csv
      hash: md5
      md5: e3fa3f522c71bf1523138943d5c0ab62
      size: 70551
    - path: src/data_preprocessing/preprocess_data.py
      hash: md5
      md5: 0f03dd5b7ede08b21093509b6b585dde
      size: 2700
    params:
      params.yaml:
        preprocess_data.random_seed: 42
        preprocess_data.test_size: 0.2
    outs:
    - path: artifacts/open_scaler.pkl
      hash: md5
      md5: 73f918f316b1c719d3acf61bc6d2a6e5
      size: 719
    - path: data/preprocessed/test_preprocessed.csv
      hash: md5
      md5: 4846173226b90e86e51830713b08f707
      size: 7515
    - path: data/preprocessed/train_preprocessed.csv
      hash: md5
      md5: dfd4266931e586e405dcc133ddc5c0f0
      size: 29900
  engineer_features:
    cmd: python -m src.feature_engineering.engineer_features
    deps:
    - path: data/preprocessed/test_preprocessed.csv
      hash: md5
      md5: 4846173226b90e86e51830713b08f707
      size: 7515
    - path: data/preprocessed/train_preprocessed.csv
      hash: md5
      md5: dfd4266931e586e405dcc133ddc5c0f0
      size: 29900
    - path: src/feature_engineering/engineer_features.py
      hash: md5
      md5: bc0ff2b871ba60cc429dfcfc617269c7
      size: 2428
    outs:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 42069592fc5cc47b147d6e1b09f28533
      size: 272738
    - path: data/processed/train_processed.csv
      hash: md5
      md5: e988107621ab00efdf715fc05bfc883b
      size: 1541798
  train:
    cmd: python -m src.model_training.train_model
    deps:
    - path: data/processed/train_processed.csv
      hash: md5
      md5: e988107621ab00efdf715fc05bfc883b
      size: 1541798
    - path: src/model_training/train_model.py
      hash: md5
      md5: 37627d123c63d304cc8a09dce2f605d3
      size: 3952
    params:
      params.yaml:
        train.batch_size: 32
        train.dropout_rate: 0.3
        train.epochs: 100
        train.learning_rate: 0.001
        train.lstm_1_units: 100
        train.lstm_2_units: 50
        train.lstm_3_units: 50
        train.lstm_4_units: 50
    outs:
    - path: metrics/training.json
      hash: md5
      md5: c89dbc77f1f5ecbbb1ed85e178e428c6
      size: 137
    - path: models/model.keras
      hash: md5
      md5: 7674b7469b4f967ec540b8be107c24d5
      size: 1395734
  evaluate:
    cmd: python -m src.model_evaluation.evaluate_model
    deps:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 42069592fc5cc47b147d6e1b09f28533
      size: 272738
    - path: models/model.keras
      hash: md5
      md5: 7674b7469b4f967ec540b8be107c24d5
      size: 1395734
    - path: src/model_evaluation/evaluate_model.py
      hash: md5
      md5: bed08fa5f52d191411ebe3c6f697ac03
      size: 3348
    outs:
    - path: metrics/evaluation.json
      hash: md5
      md5: 5ee669bda3d47a98f093d73424270842
      size: 151
